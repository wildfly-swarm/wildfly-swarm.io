<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="WildFly Swarm Official Website"><link rel="icon" href="/favicon.ico"><link rel="alternate" type="application/rss+xml" title="RSS Feed for wildfly-swarm.io" href="/rss.xml"><title>Announcing Thorntail 2.0.0.Final | WildFly Swarm</title><link rel="stylesheet" href="/assets/plugins/bootstrap/css/bootstrap.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="/assets/css/headers/header-default.css"><link rel="stylesheet" href="/assets/css/footers/footer-v1.css"><link rel="stylesheet" href="/assets/plugins/animate.css"><link rel="stylesheet" href="/assets/plugins/line-icons/line-icons.css"><link rel="stylesheet" href="/assets/plugins/parallax-slider/css/parallax-slider.css"><link rel="stylesheet" href="/assets/plugins/owl-carousel/owl-carousel/owl.carousel.css"><link rel="stylesheet" href="/assets/css/theme-colors/default.css" id="style_color"><link rel="stylesheet" href="/assets/css/theme-skins/dark.css"><link rel="stylesheet" href="/assets/css/custom.css"><link rel="stylesheet" media="screen" href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,800"><link rel="stylesheet" media="screen" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" media="screen" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/styles/default.min.css"><link rel="stylesheet" href="/css/site.css"></head><body><div class="header"><div class="container"><a href="/" class="logo"><img src="/images/swarm_icon_32x32.png" class="icon"><span style="font-size:20px;vertical-align:middle;color:#555;margin-left:10px">WildFly Swarm</span></a><div class="topbar"><ul class="loginbar pull-right"><li class="hoverSelector"><a href="http://jboss.org">JBoss.org</a></li><li class="topbar-devider"></li><li class="hoverSelector"><a href="http://redhat.com">Red Hat</a></li><li class="hoverSelector"><img style="margin-left:10px" src="https://img.shields.io/maven-central/v/org.wildfly.swarm/bom.svg?maxAge=604800"></li></ul></div><button type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" class="navbar-toggle"><span class="sr-only">Toggle Navigation</span><span class="fa fa-bars"></span></button></div><div id="navbar" aria-expanded="false" class="navbar-collapse mega-menu navbar-responsive-collapse collapse"><div class="container"><ul class="nav navbar-nav"><li><a href="/generator" class="dropdown-toggle">Generator</a></li><li><a href="/archive">Blog</a></li><li><a href="/documentation">Documentation</a></li><li><a href="/community">Community</a></li><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Resources</a><ul class="dropdown-menu"><li><a href="/downloads">Downloads</a></li><li><a href="/resources">Presentations</a></li></ul></li></ul></div></div></div><div class="wrapper"><div class="breadcrumbs"><div class="container"><div class="pull-left"><h1>Blog</h1></div><div class="ul pull-right breadcrumb"><li class="active"><a href="/archive">Archive</a></li><li><span>Post</span></li></div></div></div><div class="container"><div class="row margin-top-20"><div class="col-md-10"><article id="article"><h1>Announcing Thorntail 2.0.0.Final</h1><div class="post-meta">By The Thornail Team | Published last Tuesday,  Jun 26th</div><div><div class="sect1">
<h2 id="_thorntail_2_0_0_final">Thorntail 2.0.0.Final</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The new name of WildFly Swarm is <em>Thorntail</em>! Enjoy the freedom of flying high like a Thorntail bird!</p>
</div>
<div class="sect2">
<h3 id="_what_s_new">What&#8217;s New?</h3>
<div class="ulist">
<ul>
<li>
<p>Did we say we have a new name? Thorntail!</p>
</li>
<li>
<p>Migration Tips</p>
</li>
<li>
<p>CDI Interceptor support for MicroProfile REST Client</p>
</li>
</ul>
</div>
<!-- more -->
</div>
</div>
</div>
<div class="sect1">
<h2 id="_new_name_thorntail">New Name - Thorntail!</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Yes we finally completed the migration and can provide a release of Thorntail!</p>
</div>
<div class="paragraph">
<p>As part of the name change we have left the <code>YYYY.MM.VV</code> versioning scheme in the past,
switching to the more sensible <code>major.minor.micro</code> versioning.
This will make it easier to represent stability and large changes in the version number alone.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_migration_notes">Migration Notes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Migration from WildFly Swarm 2018.5.0 to Thorntail 2.0.0.Final is straightforward.
Packages, class names, the set of artifacts and configuration properties did not change.
Therefore, you will most likely only need to change the project build configuration.</p>
</div>
<div class="sect2">
<h3 id="_tl_dr">TL;DR</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>groupId</code> of all artifacts now starts with <code>io.thorntail</code> prefix, replacing the previous value of <code>org.wildfly.swarm</code></p>
</li>
<li>
<p>The Maven plugin also has a new <code>artifactId</code>: <code>thorntail-maven-plugin</code></p>
</li>
<li>
<p>The suffix of generated <a href="http://docs.wildfly-swarm.io/2.0.0.Final/#uberjar">uberjars</a> and <a href="http://docs.wildfly-swarm.io/2.0.0.Final/#hollow-jar">hollow JARs</a> has changed to <code>-thorntail.jar</code>,</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_four_steps_to_migrate_your_maven_project">Four Steps to Migrate Your Maven Project</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Change <code>groupId</code> and version of the BOM:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml"> &lt;dependency&gt;
    &lt;groupId&gt;io.thorntail&lt;/groupId&gt;
    &lt;artifactId&gt;bom&lt;/artifactId&gt;
    &lt;version&gt;2.0.0.Final&lt;/version&gt;
 &lt;/dependency&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Change the <code>groupId</code> of each built-in fraction to <code>io.thorntail</code>, for example:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- BEFORE  --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.wildfly.swarm&lt;/groupId&gt;
    &lt;artifactId&gt;jaxrs&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;!-- AFTER  --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;io.thorntail&lt;/groupId&gt;
  &lt;artifactId&gt;jaxrs&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Change <code>groupId</code> and <code>artifactId</code> of the Maven plugin:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;!-- BEFORE  --&gt;
&lt;plugin&gt;
  &lt;groupId&gt;org.wildfly.swarm&lt;/groupId&gt;
  &lt;artifactId&gt;wildfly-swarm-plugin&lt;/artifactId&gt;
&lt;/plugin&gt;
&lt;!-- AFTER  --&gt;
&lt;plugin&gt;
  &lt;groupId&gt;io.thorntail&lt;/groupId&gt;
  &lt;artifactId&gt;thorntail-maven-plugin&lt;/artifactId&gt;
&lt;/plugin&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>The suffix of a generated uberjar has changed to <code>-thorntail.jar</code> so don&#8217;t forget to change the command used to run your app, for example:</p>
<div class="literalblock">
<div class="content">
<pre>java -jar target/myexample-1.0.0-thorntail.jar</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_fabric8_maven_plugin_changes">Fabric8 Maven plugin changes</h3>
<div class="paragraph">
<p>If you use the Fabric8 Maven plugin to deploy your application to Kubernetes / OpenShift, you need to update to <em>3.5.40</em>.
This is the first version that supports Thorntail v2.
The feature set is identical to the Fabric8 Maven plugin support for WildFly Swarm.
Here&#8217;s a summary of names that you need to change if you refer to them directly:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Fabric8 Maven plugin changes</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Fabric8 Maven plugin concept</th>
<th class="tableblock halign-left valign-top">WildFly Swarm</th>
<th class="tableblock halign-left valign-top">Thorntail v2</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Docker image generator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>wildfly-swarm</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>thorntail-v2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Health check enricher name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f8-wildfly-swarm-health-check</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f8-thorntail-v2-health-check</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference to health check enricher in <code>pom.xml</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;wildfly-swarm-health-check&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;thorntail-v2-health-check&gt;</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cdi_interceptor_support_for_microprofile_rest_client">CDI Interceptor support for MicroProfile REST Client</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We&#8217;ve added a non portable feature to MP REST Client that enables CDI Interceptors to be used on REST Client methods.</p>
</div>
<div class="paragraph">
<p>Full details on the feature and how it works can be found <a href="http://docs.wildfly-swarm.io/2.0.0.Final/#_cdi_interceptors_support">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_changelog">Changelog</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Release notes for 2.0.0.Final are available <a href="https://issues.jboss.org/secure/ReleaseNote.jspa?projectId=12317020&amp;version=12337750">here</a>.</p>
</div>
<div class="sect2">
<h3 id="_bug">Bug</h3>
<div class="ulist">
<ul>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-1473">THORN-1473</a>] Shrinkwrap High Memory Usage on Startup (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-1774">THORN-1774</a>] Wildfly Swarm Security Constraints configured in YAML behave different than in WEB.XML (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2015">THORN-2015</a>] old version of org.wildfly.swarm:config-api-runtime gets pulled in transitively in certain situations (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2021">THORN-2021</a>] Dependencies from a Dependency Tree are not in the classpath (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2050">THORN-2050</a>] MP metrics: can&#8217;t inject MetricRegistry for the Base and Vendor scopes (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2051">THORN-2051</a>] MP metrics: MetricRegistry.getTimers and similar methods don&#8217;t filter by type, leading to ClassCastExceptions (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2053">THORN-2053</a>] MP Metrics API module does not declare a dependency on javax.enterprise.api (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2082">THORN-2082</a>] Thorntail Maven plugin uses wrong classifier name for packaging and multistart (Done)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_task">Task</h3>
<div class="ulist">
<ul>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-1691">THORN-1691</a>] MP OpenTracing impl (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-1942">THORN-1942</a>] Avoid releasing microprofile-tcks to accelerate and also minimize the risk of failing the release process (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2005">THORN-2005</a>] Support configuring multiple Keycloak realms (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2020">THORN-2020</a>] add the "jaeger" fraction to the supported profile (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2030">THORN-2030</a>] MicroProfile Rest Client - CDI interceptors support (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2031">THORN-2031</a>] Project Rename and Migration (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2035">THORN-2035</a>] Document MP Rest Client CDI interceptors support (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2039">THORN-2039</a>] Create Keycloak Multitenancy demo (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2048">THORN-2048</a>] Project rename - fabric8-maven-plugin updates (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2055">THORN-2055</a>] Reflect project rename and migration in examples (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2056">THORN-2056</a>] Rename pre-built hollow JARs (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2057">THORN-2057</a>] Project rename and migration - deep docs review (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2058">THORN-2058</a>] Project rename - change the uberjar suffix (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2059">THORN-2059</a>] Custom KeyCloak theme modules can not be loaded  (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2060">THORN-2060</a>] Project Rename - replace "WildFly Swarm" in log messages (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2084">THORN-2084</a>] Investigate if the audit file can be set up at the elytron config level and do not auto-create it if yes (Done)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_library_upgrade">Library Upgrade</h3>
<div class="ulist">
<ul>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-1939">THORN-1939</a>] Update keycloak dependency to 3.4.3.Final (Done)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_feature_request">Feature Request</h3>
<div class="ulist">
<ul>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2027">THORN-2027</a>] MP FT - activate CDI request context during @Asynchronous method invocation (Done)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_enhancement">Enhancement</h3>
<div class="ulist">
<ul>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2036">THORN-2036</a>] Add autodetect to MicroProfile Metrics, OpenApi and RestClient (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2038">THORN-2038</a>] Keycloak Multitenancy resolver should use 'startsWith' or regex instead of 'equals' checks (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2041">THORN-2041</a>] Add support for Keycloak for Teiid OData web application (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2068">THORN-2068</a>] MicroProfile Metrics - support MicroProfile Rest Client proxies interception (Done)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Per usual, we tend to hang out on <code>irc.freenode.net</code> in <code>#thorntail</code>.</p>
</div>
<div class="paragraph">
<p>All bug and feature-tracking is kept in <a href="http://issues.jboss.org/browse/THORN">JIRA</a>.</p>
</div>
<div class="paragraph">
<p>Examples are available in <a href="https://github.com/thorntail/thorntail-examples/tree/2.0.0.Final" class="bare">https://github.com/thorntail/thorntail-examples/tree/2.0.0.Final</a></p>
</div>
<div class="paragraph">
<p>Documentation for this release is available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://docs.wildfly-swarm.io/2.0.0.Final/">Documentation</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_thank_you_contributors">Thank you, Contributors!</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We appreciate all of our contributors since the last release:</p>
</div>
<div class="sect2">
<h3 id="_examples">Examples</h3>
<div class="ulist">
<ul>
<li>
<p>Sergey Beryozkin</p>
</li>
<li>
<p>Martin Kouba</p>
</li>
<li>
<p>Antoine Sabot-Durand</p>
</li>
<li>
<p>Michal Szynkiewicz</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_core">Core</h3>
<div class="ulist">
<ul>
<li>
<p>Sergey Beryozkin</p>
</li>
<li>
<p>Ken Finnigan</p>
</li>
<li>
<p>George Gastaldi</p>
</li>
<li>
<p>Martin Kouba</p>
</li>
<li>
<p>Phillip Kruger</p>
</li>
<li>
<p>Pavol Loffay</p>
</li>
<li>
<p>Sam McCollum</p>
</li>
<li>
<p>Bob McWhirter</p>
</li>
<li>
<p>Tomas Radej</p>
</li>
<li>
<p>Ramesh Reddy</p>
</li>
<li>
<p>Antoine Sabot-Durand</p>
</li>
<li>
<p>Dennis Schwarz</p>
</li>
<li>
<p>Micha≈Ç Szynkiewicz</p>
</li>
<li>
<p>Ladislav Thon</p>
</li>
</ul>
</div>
</div>
</div>
</div></div></article></div></div></div></div><div class="footer-v1"><div class="footer"><div class="container"><div class="row"><div class="col-sm-6 md-margin-bottom-40"><p class="text-center"><Copyright>2016 - 2018 <a href="http://redhat.com">Red Hat, Inc.</a> | WildFly Swarm is Open Source Software</Copyright></p></div><div class="col-sm-6 md-margin-bottom-40"><p class="text-center"><span>We rely on the
<a href='http://www.ej-technologies.com/products/jprofiler/overview.html'>
Java profiler from EJ Technologies
</a><br/>
<img src='https://www.ej-technologies.com/images/product_banners/jprofiler_medium.png'/></span></p></div></div></div></div></div><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-83419890-2', 'auto');
ga('send', 'pageview');

ga('create', 'UA-6435340-8', 'auto');
ga('send', 'pageview');
</script><script type="text/javascript" src="/assets/js/highlight.pack.js"></script><script type="text/javascript" src="/assets/plugins/jquery/jquery.min.js"></script><script type="text/javascript" src="/assets/plugins/jquery/jquery-migrate.min.js"></script><script type="text/javascript" src="/assets/plugins/bootstrap/js/bootstrap.min.js"></script><script type="text/javascript" src="/assets/plugins/back-to-top.js"></script><script type="text/javascript" src="/assets/plugins/smoothScroll.js"></script><script type="text/javascript" src="/assets/plugins/parallax-slider/js/modernizr.js"></script><script type="text/javascript" src="/assets/plugins/parallax-slider/js/jquery.cslider.js"></script><script type="text/javascript" src="/assets/plugins/owl-carousel/owl-carousel/owl.carousel.js"></script><script type="text/javascript" src="/assets/js/custom.js"></script><script type="text/javascript" src="/assets/js/app.js"></script><script type="text/javascript" src="/assets/js/plugins/owl-carousel.js"></script><script type="text/javascript" src="/assets/js/plugins/style-switcher.js"></script><script type="text/javascript" src="/assets/js/plugins/parallax-slider.js"></script><script>(function() {

  jQuery(document).ready(function() {
    App.init();
    OwlCarousel.initOwlCarousel();
    StyleSwitcher.initStyleSwitcher();
    ParallaxSlider.initParallaxSlider();

    hljs.initHighlightingOnLoad();
  });

})();
</script></body></html>