<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="WildFly Swarm Official Website"><link rel="icon" href="/favicon.ico"><link rel="alternate" type="application/rss+xml" title="RSS Feed for wildfly-swarm.io" href="/rss.xml"><title>To WAR or JAR | WildFly Swarm</title><link rel="stylesheet" href="/assets/plugins/bootstrap/css/bootstrap.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="/assets/css/headers/header-default.css"><link rel="stylesheet" href="/assets/css/footers/footer-v1.css"><link rel="stylesheet" href="/assets/plugins/animate.css"><link rel="stylesheet" href="/assets/plugins/line-icons/line-icons.css"><link rel="stylesheet" href="/assets/plugins/parallax-slider/css/parallax-slider.css"><link rel="stylesheet" href="/assets/plugins/owl-carousel/owl-carousel/owl.carousel.css"><link rel="stylesheet" href="/assets/css/theme-colors/default.css" id="style_color"><link rel="stylesheet" href="/assets/css/theme-skins/dark.css"><link rel="stylesheet" href="/assets/css/custom.css"><link rel="stylesheet" media="screen" href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,800"><link rel="stylesheet" media="screen" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" media="screen" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/styles/default.min.css"><link rel="stylesheet" href="/css/site.css"></head><body><div class="header"><div class="container"><a href="/" class="logo"><img src="/images/swarm_icon_32x32.png" class="icon"><span style="font-size:20px;vertical-align:middle;color:#555;margin-left:10px">WildFly Swarm</span></a><div class="topbar"><ul class="loginbar pull-right"><li class="hoverSelector"></li><a href="http://jboss.org">JBoss.org</a><li class="topbar-devider"></li><li class="hoverSelector"></li><a href="http://redhat.com">Red Hat</a></ul></div><button type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" class="navbar-toggle"><span class="sr-only">Toggle Navigation</span><span class="fa fa-bars"></span></button></div><div id="navbar" aria-expanded="false" class="navbar-collapse mega-menu navbar-responsive-collapse collapse"><div class="container"><ul class="nav navbar-nav"><li><a href="/generator" class="dropdown-toggle">Generator</a></li><li><a href="/archive">Blog</a></li><li><a href="/documentation">Documentation</a></li><li><a href="/community">Community</a></li><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Resources</a><ul class="dropdown-menu"><li><a href="/downloads">Downloads</a></li><li><a href="/resources">Presentations</a></li></ul></li></ul></div></div></div><div class="wrapper"><div class="breadcrumbs"><div class="container"><div class="pull-left"><h1>Blog</h1></div><div class="ul pull-right breadcrumb"><li class="active"><a href="/archive">Archive</a></li><li><span>Post</span></li></div></div></div><div class="container"><div class="row margin-top-20"><div class="col-md-10"><article id="article"><h1>To WAR or JAR</h1><div class="post-meta">By Ken Finnigan | Published Today,  Dec 15th</div><div><div class="sect1">
<h2 id="_whether_to_war_or_jar_with_wildfly_swarm">Whether to WAR or JAR with WildFly Swarm?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With most things in life we have choices, sometimes a few and sometimes many.
When it comes to WildFly Swarm projects with Maven the two choices are
<code>war</code> or <code>jar</code> packaging.</p>
</div>
<div class="paragraph">
<p>Each has different benefits and tradeoffs which we will discuss during this article.
By the end I hope it&#8217;s clearer as to the best situations to utilize either
packaging type.</p>
</div>
<!-- more -->
<div class="sect2">
<h3 id="_jar">JAR</h3>
<div class="paragraph">
<p>There are two ways we end up with <code>jar</code> packaging with Maven:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Don&#8217;t specify <code>&lt;packaging&gt;</code> in <code>pom.xml</code>, as <code>jar</code> is the default.</p>
</li>
<li>
<p>Explicitly set <code>jar</code> packaging:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;packaging&gt;jar&lt;/packaging&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>What are the benefits of this approach:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Simplified project structure as only deals with classes and resources</p>
</li>
<li>
<p>When using a custom <code>main()</code>,
provides easier construction of a Shrinkwrap WAR deployment from classpath resources</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>But what are the downsides:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Requires a custom <code>main()</code> if you want to create a Shrinkwrap WAR deployment</p>
</li>
<li>
<p>Can&#8217;t be <em>deployed</em> to regular application servers</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_war">WAR</h3>
<div class="paragraph">
<p>The only way to indicate <code>war</code> packaging is with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xml" data-lang="xml">&lt;packaging&gt;war&lt;/packaging&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Benefits:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Deployable to any container/server that accepts <code>.war</code> files</p>
</li>
<li>
<p>Don&#8217;t need a custom <code>main()</code> to construct the Shrinkwrap WAR deployment</p>
</li>
<li>
<p>More common practice for development by those familiar with Enterprise Java,
such as Java EE and Spring</p>
</li>
<li>
<p>Better tooling integration in an IDE</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Drawbacks:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Slightly more complicated project layout.
I say that loosely though, especially as most Enterprise Java developers are more
than familiar with war project structure.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_what_s_best">What&#8217;s Best?</h3>
<div class="paragraph">
<p>As with all things, there isn&#8217;t one size fits all!</p>
</div>
<div class="paragraph">
<p>In the below table I will layout in what situations one or the other should be utilized:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Packaging</th>
<th class="tableblock halign-left valign-top">Web Deployment</th>
<th class="tableblock halign-left valign-top">Non Web Deployment</th>
<th class="tableblock halign-left valign-top">Custom main()</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JAR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Could be done with a custom main(), but <strong>not recommended</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>YES</strong>. <em>Recommended</em> for messaging and scheduled type microservices that don&#8217;t require
exposed endpoints.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If needed for customizing fractions. <em>Please raise issues for what&#8217;s missing for it
to be configured via yml</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WAR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>YES</strong>. <em>Recommended</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Would require custom main() to convert WAR structure into JAR deployment.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If needed for customizing fractions. <em>Please raise issues for what&#8217;s missing for it
to be configured via yml</em>. <strong>Not recommended</strong> for creating a web deployment,
as Maven has already done that for us.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_conclusion">Conclusion</h3>
<div class="paragraph">
<p>From this brief foray into the world of Maven packaging and WildFly Swarm,
we can see that for most situations sticking with the typical <code>war</code> packaging
is our best option.
It provides the closest match to regular Enterprise Java development and
will result in a more seamless transition developing with WildFly Swarm.</p>
</div>
<div class="paragraph">
<p>Don&#8217;t be afraid to let us know we&#8217;ve messed up and you&#8217;re not able to configure
a fraction with <code>project-stages.yml</code> and you needed to create a custom <code>main()</code>.
We are keen on removing all those types of problems such that a custom <code>main()</code>
is only required in the most advanced use cases, and preferably not even then!</p>
</div>
</div>
</div>
</div></div></article></div></div></div></div><div class="footer-v1"><div class="footer"><div class="container"><div class="row"><div class="col-sm-6 md-margin-bottom-40"><p class="text-center"><Copyright>2016 <a href="http://redhat.com">Red Hat, Inc.</a> | WildFly Swarm is Open Source Software</Copyright></p></div><div class="col-sm-6 md-margin-bottom-40"><p class="text-center"><span>We rely on the
<a href='http://www.ej-technologies.com/products/jprofiler/overview.html'>
Java profiler from EJ Technologies
</a><br/>
<img src='https://www.ej-technologies.com/images/product_banners/jprofiler_medium.png'/></span></p></div></div></div></div></div><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-83419890-2', 'auto');
ga('send', 'pageview');

ga('create', 'UA-6435340-8', 'auto');
ga('send', 'pageview');
</script><script type="text/javascript" src="/assets/js/highlight.pack.js"></script><script type="text/javascript" src="/assets/plugins/jquery/jquery.min.js"></script><script type="text/javascript" src="/assets/plugins/jquery/jquery-migrate.min.js"></script><script type="text/javascript" src="/assets/plugins/bootstrap/js/bootstrap.min.js"></script><script type="text/javascript" src="/assets/plugins/back-to-top.js"></script><script type="text/javascript" src="/assets/plugins/smoothScroll.js"></script><script type="text/javascript" src="/assets/plugins/parallax-slider/js/modernizr.js"></script><script type="text/javascript" src="/assets/plugins/parallax-slider/js/jquery.cslider.js"></script><script type="text/javascript" src="/assets/plugins/owl-carousel/owl-carousel/owl.carousel.js"></script><script type="text/javascript" src="/assets/js/custom.js"></script><script type="text/javascript" src="/assets/js/app.js"></script><script type="text/javascript" src="/assets/js/plugins/owl-carousel.js"></script><script type="text/javascript" src="/assets/js/plugins/style-switcher.js"></script><script type="text/javascript" src="/assets/js/plugins/parallax-slider.js"></script><script>(function() {

  jQuery(document).ready(function() {
    App.init();
    OwlCarousel.initOwlCarousel();
    StyleSwitcher.initStyleSwitcher();
    ParallaxSlider.initParallaxSlider();

    hljs.initHighlightingOnLoad();
  });

})();
</script></body></html>