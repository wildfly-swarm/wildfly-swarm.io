<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="WildFly Swarm Official Website"><link rel="icon" href="/favicon.ico"><link rel="alternate" type="application/rss+xml" title="RSS Feed for wildfly-swarm.io" href="/rss.xml"><title>Announcing Thorntail 2.1.0.Final | Thorntail</title><link rel="stylesheet" href="/assets/plugins/bootstrap/css/bootstrap.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="/assets/css/headers/header-default.css"><link rel="stylesheet" href="/assets/css/footers/footer-v1.css"><link rel="stylesheet" href="/assets/plugins/animate.css"><link rel="stylesheet" href="/assets/plugins/line-icons/line-icons.css"><link rel="stylesheet" href="/assets/plugins/parallax-slider/css/parallax-slider.css"><link rel="stylesheet" href="/assets/plugins/owl-carousel/owl-carousel/owl.carousel.css"><link rel="stylesheet" href="/assets/css/theme-colors/default.css" id="style_color"><link rel="stylesheet" href="/assets/css/theme-skins/dark.css"><link rel="stylesheet" href="/assets/css/custom.css"><link rel="stylesheet" media="screen" href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,800"><link rel="stylesheet" media="screen" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" media="screen" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/styles/default.min.css"><link rel="stylesheet" href="/css/site.css"></head><body><div class="header"><div class="container"><a href="/" class="logo"><img src="/images/swarm_icon_32x32.png" class="icon"><span style="font-size:20px;vertical-align:middle;color:#555;margin-left:10px">WildFly Swarm</span></a><div class="topbar"><ul class="loginbar pull-right"><li class="hoverSelector"><a href="http://jboss.org">JBoss.org</a></li><li class="topbar-devider"></li><li class="hoverSelector"><a href="http://redhat.com">Red Hat</a></li><li class="hoverSelector"><img style="margin-left:10px" src="https://img.shields.io/maven-central/v/io.thorntail/bom.svg?maxAge=604800"></li></ul></div><button type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" class="navbar-toggle"><span class="sr-only">Toggle Navigation</span><span class="fa fa-bars"></span></button></div><div id="navbar" aria-expanded="false" class="navbar-collapse mega-menu navbar-responsive-collapse collapse"><div class="container"><ul class="nav navbar-nav"><li><a href="/generator" class="dropdown-toggle">Generator</a></li><li><a href="/archive">Blog</a></li><li><a href="/documentation">Documentation</a></li><li><a href="/community">Community</a></li><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Resources</a><ul class="dropdown-menu"><li><a href="/downloads">Downloads</a></li><li><a href="/resources">Presentations</a></li></ul></li></ul></div></div></div><div class="wrapper"><div class="breadcrumbs"><div class="container"><div class="pull-left"><h1>Blog</h1></div><div class="ul pull-right breadcrumb"><li class="active"><a href="/archive">Archive</a></li><li><span>Post</span></li></div></div></div><div class="container"><div class="row margin-top-20"><div class="col-md-10"><article id="article"><h1>Announcing Thorntail 2.1.0.Final</h1><div class="post-meta">By The Thorntail Team | Published Aug 15, 2018</div><div><div class="sect1">
<h2 id="_thorntail_2_1_0_final">Thorntail 2.1.0.Final</h2>
<div class="sectionbody">
<div class="paragraph">
<p>On this day in 1896 Gold was first discovered in Klondike, found at Bonanza Creek, Alaska by George Carmack.</p>
</div>
<div class="paragraph">
<p>And now 122 years later, 2.1.0.Final is released!</p>
</div>
<div class="sect2">
<h3 id="_what_s_new">What&#8217;s New?</h3>
<div class="ulist">
<ul>
<li>
<p>MicroProfile 1.3 with SmallRye</p>
</li>
<li>
<p>Automated migration from WildFly Swarm</p>
</li>
<li>
<p>OpenTracing and Jaeger changes</p>
</li>
<li>
<p>New JOSE fraction</p>
</li>
<li>
<p>Old <code>config-api-runtime</code> fixed</p>
</li>
<li>
<p>Consul update</p>
</li>
</ul>
</div>
<!-- more -->
</div>
</div>
</div>
<div class="sect1">
<h2 id="_microprofile_1_3_with_smallrye">MicroProfile 1.3 with SmallRye</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Though the version of MicroProfile being implemented in Thorntail hasn&#8217;t changed, where it&#8217;s coming from has!</p>
</div>
<div class="paragraph">
<p>With this release we&#8217;ve moved to using implementations from <a href="https://www.smallrye.io/">SmallRye</a>.
SmallRye intends to provide a shareable MicroProfile implementation across multiple vendors,
which is why we&#8217;ve moved to utilizing it within Thorntail.</p>
</div>
<div class="paragraph">
<p>If you&#8217;d like to help us implement MicroProfile in SmallRye,
check out the projects at <a href="https://github.com/smallrye/" class="bare">https://github.com/smallrye/</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_automated_migration_from_wildfly_swarm">Automated migration from WildFly Swarm</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The migration process from WildFly Swarm, as described in the <a href="/posts/announcing-thorntail-2-0-0-final">2.0.0.Final post</a>, can be mostly automated.
That&#8217;s exactly what we did in this release!</p>
</div>
<div class="paragraph">
<p>If you are still on WildFly Swarm 2018.5.0, or one of the previous releases, you can now migrate to Thorntail by running</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">mvn io.thorntail:thorntail-maven-plugin:2.1.0.Final:migrate-from-wildfly-swarm</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you only want to see the migration actions, without actually performing them, add <code>-DdryRun=true</code>.</p>
</div>
<div class="paragraph">
<p>If you want to migrate to the previous 2.0.0.Final version, add <code>-DtargetVersion=2.0.0.Final</code>.</p>
</div>
<div class="paragraph">
<p>And if you encounter any issue, please let us know!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_opentracing_and_jaeger_changes">OpenTracing and Jaeger changes</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>WARNING: Breaking changes!</strong></p>
</div>
<div class="paragraph">
<p>Previously, the <code>jaeger</code> fraction brought in the <code>opentracing</code> fraction automatically.
To better support MicroProfile OpenTracing, we&#8217;ve decoupled these two fractions.</p>
</div>
<div class="paragraph">
<p>Now, the <code>jaeger</code> fraction is only used to provide tracer configuration.
You are expected to bring in the tracing fraction manually; either the old <code>opentracing</code>, or the new <code>microprofile-opentracing</code>.</p>
</div>
<div class="paragraph">
<p>If you previously had a dependency on the <code>jaeger</code> fraction and not on the <code>opentracing</code> fraction, you have to add an explicit dependency on the <code>opentracing</code> fraction to retain the same behavior.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_jose_fraction">JOSE fraction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Have some serious fun with a new <a href="https://datatracker.ietf.org/wg/jose/documents/">JOSE</a> fraction and add a new dimension to your application&#8217;s security.
Check out the <a href="https://github.com/thorntail/thorntail-examples/tree/master/security/jose">security/jose</a> example.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_old_code_config_api_runtime_code_fixed">Old <code>config-api-runtime</code> fixed</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the last release, there was a problem with older WildFly Swarm <code>config-api-runtime</code> artifacts appearing in the dependency tree, causing conflicts with the latest Thorntail ones.</p>
</div>
<div class="paragraph">
<p>We&#8217;re happy to say that&#8217;s now resolved in 2.1.0.Final!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_consul_update">Consul update</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Thanks to Dennis Schwarz from the community for providing a PR to update Consul to 1.2.1 and also fix some issues with Health Checks!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_changelog">Changelog</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Release notes for 2.1.0.Final are available <a href="https://issues.jboss.org/secure/ReleaseNote.jspa?projectId=12317020&amp;version=12338182">here</a>.</p>
</div>
<div class="sect2">
<h3 id="_bug">Bug</h3>
<div class="ulist">
<ul>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-1529">THORN-1529</a>] Exception mapperfor JsonParseException is ignored (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-1531">THORN-1531</a>] Following instructions at wildfly-swarm-example/ribbon-consul doesn&#8217;t yield desirable result (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-1647">THORN-1647</a>] Plugin topology-consul is getting error and it does not allow the health checks (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-1876">THORN-1876</a>] Microprofile Health - Warn security (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-1955">THORN-1955</a>] MP JWT: can&#8217;t use different roles for different methods with the same @Path but different @Produces (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-1968">THORN-1968</a>] MP Health Check /health throws NPE if HealthCheck implementation does not specify state (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-1972">THORN-1972</a>] MP JWT: can&#8217;t use different roles for different methods with parameterized @Paths that share a common prefix (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2015">THORN-2015</a>] old version of org.wildfly.swarm:config-api-runtime gets pulled in transitively in certain situations (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2047">THORN-2047</a>] Startup fail with management-console and openapi fraction (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2083">THORN-2083</a>] MP FT - Fallback is not called when used with CircuitBreaker and Retry policy (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2087">THORN-2087</a>] microprofile-fault-tolerance depends on slf4j-simple (wrong scope?) (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2093">THORN-2093</a>] Injection of MP-Rest-Client fails (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2104">THORN-2104</a>] 2.0.1.Final-SNAPSHOT build fails if 'swarm.product.build' is enabled (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2110">THORN-2110</a>] MPJWTProducer&#8217;s currentPrincipal holding old values (Done)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_enhancement">Enhancement</h3>
<div class="ulist">
<ul>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-1540">THORN-1540</a>] Add in JDBC driver auto-detect support for Derby Embedded (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2091">THORN-2091</a>] Maven plugin for automated migration from WildFly Swarm to Thorntail (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2103">THORN-2103</a>] Switch to using SmallRye Config as implementation (Done)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_task">Task</h3>
<div class="ulist">
<ul>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-1941">THORN-1941</a>] after deprecating the monitor fraction, we should update boosters to use MP health check instead (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2061">THORN-2061</a>] Migrate MP Metrics implementation to SmallRye (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2062">THORN-2062</a>] Migrate MP Health implementation to SmallRye (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2063">THORN-2063</a>] Migrate MP Fault Tolerance implementation to SmallRye (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2064">THORN-2064</a>] Migrate MP JWT implementation to SmallRye (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2065">THORN-2065</a>] Migrate MP Opentracing implementation to SmallRye (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2066">THORN-2066</a>] Migrate MP Open API implementation to SmallRye (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2067">THORN-2067</a>] Migrate MP REST Client implementation to SmallRye (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2070">THORN-2070</a>] KeycloakThemeCustomizer does not need to explode keycloak-themes.jar to the local temp folder (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2088">THORN-2088</a>] Update keycloak-config-api to use 3.4.3.Final Keycloak version (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2089">THORN-2089</a>] upgrade wildfly-nosql to 1.0.0.Beta1 and nosql-config-api to 1.3.1 (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2092">THORN-2092</a>] Make Jaeger fraction reusable for any tracing fraction (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2096">THORN-2096</a>] make sure all Config APIs depend on the same (latest) version of Config API Runtime (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2117">THORN-2117</a>] upgrade wildfly-nosql to 1.0.0.Final (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2120">THORN-2120</a>] Examples README files have outdated run instructions (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2132">THORN-2132</a>] Release thorntail-fraction-plugin 88 and update Thorntail to use it (Done)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2004">THORN-2004</a>] Document some fallback internals in Microprofile implementation when using @Asynchronous and @Bulkhead (Done)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_feature_request">Feature Request</h3>
<div class="ulist">
<ul>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2034">THORN-2034</a>] Introduce JOSE Fraction (Done)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Per usual, we tend to hang out on <code>irc.freenode.net</code> in <code>#thorntail</code>.</p>
</div>
<div class="paragraph">
<p>All bug and feature-tracking is kept in <a href="http://issues.jboss.org/browse/THORN">JIRA</a>.</p>
</div>
<div class="paragraph">
<p>Examples are available in <a href="https://github.com/thorntail/thorntail-examples/tree/2.1.0.Final" class="bare">https://github.com/thorntail/thorntail-examples/tree/2.1.0.Final</a></p>
</div>
<div class="paragraph">
<p>Documentation for this release is available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://docs.wildfly-swarm.io/2.1.0.Final/">Documentation</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_thank_you_contributors">Thank you, Contributors!</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We appreciate all of our contributors since the last release:</p>
</div>
<div class="sect2">
<h3 id="_examples">Examples</h3>
<div class="ulist">
<ul>
<li>
<p>Sergey Beryozkin</p>
</li>
<li>
<p>Ken Finnigan</p>
</li>
<li>
<p>Pavol Loffay</p>
</li>
<li>
<p>Sven Ruppert</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_core">Core</h3>
<div class="ulist">
<ul>
<li>
<p>Sergey Beryozkin</p>
</li>
<li>
<p>Tobias Dittrich</p>
</li>
<li>
<p>Ken Finnigan</p>
</li>
<li>
<p>Martin Kouba</p>
</li>
<li>
<p>Pavol Loffay</p>
</li>
<li>
<p>Scott M Stark</p>
</li>
<li>
<p>Bartosz Majsak</p>
</li>
<li>
<p>Scott Marlow</p>
</li>
<li>
<p>Matej Novotny</p>
</li>
<li>
<p>Tomas Radej</p>
</li>
<li>
<p>Antoine Sabot-Durand</p>
</li>
<li>
<p>Dennis Schwarz</p>
</li>
<li>
<p>Micha≈Ç Szynkiewicz</p>
</li>
<li>
<p>Ladislav Thon</p>
</li>
<li>
<p>Eric Wittmann</p>
</li>
</ul>
</div>
</div>
</div>
</div></div></article></div></div></div></div><div class="footer-v1"><div class="footer"><div class="container"><div class="row"><div class="col-sm-6 md-margin-bottom-40"><p class="text-center"><Copyright>2016 - 2018 <a href="http://redhat.com">Red Hat, Inc.</a> | WildFly Swarm is Open Source Software</Copyright></p></div><div class="col-sm-6 md-margin-bottom-40"><p class="text-center"><span>We rely on the
<a href='http://www.ej-technologies.com/products/jprofiler/overview.html'>
Java profiler from EJ Technologies
</a><br/>
<img src='https://www.ej-technologies.com/images/product_banners/jprofiler_medium.png'/></span></p></div></div></div></div></div><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-83419890-2', 'auto');
ga('send', 'pageview');

ga('create', 'UA-6435340-8', 'auto');
ga('send', 'pageview');
</script><script type="text/javascript" src="/assets/js/highlight.pack.js"></script><script type="text/javascript" src="/assets/plugins/jquery/jquery.min.js"></script><script type="text/javascript" src="/assets/plugins/jquery/jquery-migrate.min.js"></script><script type="text/javascript" src="/assets/plugins/bootstrap/js/bootstrap.min.js"></script><script type="text/javascript" src="/assets/plugins/back-to-top.js"></script><script type="text/javascript" src="/assets/plugins/smoothScroll.js"></script><script type="text/javascript" src="/assets/plugins/parallax-slider/js/modernizr.js"></script><script type="text/javascript" src="/assets/plugins/parallax-slider/js/jquery.cslider.js"></script><script type="text/javascript" src="/assets/plugins/owl-carousel/owl-carousel/owl.carousel.js"></script><script type="text/javascript" src="/assets/js/custom.js"></script><script type="text/javascript" src="/assets/js/app.js"></script><script type="text/javascript" src="/assets/js/plugins/owl-carousel.js"></script><script type="text/javascript" src="/assets/js/plugins/style-switcher.js"></script><script type="text/javascript" src="/assets/js/plugins/parallax-slider.js"></script><script>(function() {

  jQuery(document).ready(function() {
    App.init();
    OwlCarousel.initOwlCarousel();
    StyleSwitcher.initStyleSwitcher();
    ParallaxSlider.initParallaxSlider();

    hljs.initHighlightingOnLoad();
  });

})();
</script></body></html>