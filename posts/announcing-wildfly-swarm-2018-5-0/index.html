<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="WildFly Swarm Official Website"><link rel="icon" href="/favicon.ico"><link rel="alternate" type="application/rss+xml" title="RSS Feed for wildfly-swarm.io" href="/rss.xml"><title>Announcing WildFly Swarm 2018.5.0 | WildFly Swarm</title><link rel="stylesheet" href="/assets/plugins/bootstrap/css/bootstrap.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="/assets/css/headers/header-default.css"><link rel="stylesheet" href="/assets/css/footers/footer-v1.css"><link rel="stylesheet" href="/assets/plugins/animate.css"><link rel="stylesheet" href="/assets/plugins/line-icons/line-icons.css"><link rel="stylesheet" href="/assets/plugins/parallax-slider/css/parallax-slider.css"><link rel="stylesheet" href="/assets/plugins/owl-carousel/owl-carousel/owl.carousel.css"><link rel="stylesheet" href="/assets/css/theme-colors/default.css" id="style_color"><link rel="stylesheet" href="/assets/css/theme-skins/dark.css"><link rel="stylesheet" href="/assets/css/custom.css"><link rel="stylesheet" media="screen" href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,800"><link rel="stylesheet" media="screen" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" media="screen" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/styles/default.min.css"><link rel="stylesheet" href="/css/site.css"></head><body><div class="header"><div class="container"><a href="/" class="logo"><img src="/images/swarm_icon_32x32.png" class="icon"><span style="font-size:20px;vertical-align:middle;color:#555;margin-left:10px">WildFly Swarm</span></a><div class="topbar"><ul class="loginbar pull-right"><li class="hoverSelector"><a href="http://jboss.org">JBoss.org</a></li><li class="topbar-devider"></li><li class="hoverSelector"><a href="http://redhat.com">Red Hat</a></li><li class="hoverSelector"><img style="margin-left:10px" src="https://img.shields.io/maven-central/v/io.thorntail/bom.svg?maxAge=604800"></li></ul></div><button type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" class="navbar-toggle"><span class="sr-only">Toggle Navigation</span><span class="fa fa-bars"></span></button></div><div id="navbar" aria-expanded="false" class="navbar-collapse mega-menu navbar-responsive-collapse collapse"><div class="container"><ul class="nav navbar-nav"><li><a href="/generator" class="dropdown-toggle">Generator</a></li><li><a href="/archive">Blog</a></li><li><a href="/documentation">Documentation</a></li><li><a href="/community">Community</a></li><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Resources</a><ul class="dropdown-menu"><li><a href="/downloads">Downloads</a></li><li><a href="/resources">Presentations</a></li></ul></li></ul></div></div></div><div class="wrapper"><div class="breadcrumbs"><div class="container"><div class="pull-left"><h1>Blog</h1></div><div class="ul pull-right breadcrumb"><li class="active"><a href="/archive">Archive</a></li><li><span>Post</span></li></div></div></div><div class="container"><div class="row margin-top-20"><div class="col-md-10"><article id="article"><h1>Announcing WildFly Swarm 2018.5.0</h1><div class="post-meta">By The WildFly Swarm Team | Published May 1, 2018</div><div><div class="sect1">
<h2 id="_wildfly_swarm_2018_5_0">WildFly Swarm 2018.5.0</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This <em>May</em> be a good release, but you can be the judge of that!</p>
</div>
<div class="sect2">
<h3 id="_what_s_new">What&#8217;s New?</h3>
<div class="ulist">
<ul>
<li>
<p>Eclipse MicroProfile fixes and improvements</p>
</li>
<li>
<p>Update fractions to match WildFly 11 configuration</p>
</li>
</ul>
</div>
<!-- more -->
</div>
</div>
</div>
<div class="sect1">
<h2 id="_eclipse_microprofile_fixes_and_improvements">Eclipse MicroProfile fixes and improvements</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>MicroProfile JWT</p>
<div class="ulist">
<ul>
<li>
<p>It&#8217;s now possible to load public keys from JWKS URI using the <code>swarm.microprofile.jwt.token.jwks-uri</code> config property</p>
</li>
<li>
<p>It&#8217;s now possible to specify a <code>file:</code> or <code>classpath:</code> reference to the public key in <code>swarm.microprofile.jwt.token.signer-pub-key</code> config property</p>
</li>
<li>
<p>Configuration - roles properties file is now optional</p>
</li>
<li>
<p>A JAX-RS resource with no <code>@RolesAllowed</code> annotation is now secured properly</p>
</li>
<li>
<p>By default, if there is no class-level security annotation, an unconstrained resource method has always an implicit <code>@DenyAll</code>. It&#8217;s now configurable through <code>swarm.microprofile.jwt.default-missing-method-permissions-deny-access</code> config property</p>
</li>
</ul>
</div>
</li>
<li>
<p>MicroProfile Fault Tolerance</p>
<div class="ulist">
<ul>
<li>
<p>Support <code>@Asynchronous</code> <code>@CircuitBreaker</code> and <code>@Asynchronous</code> <code>@Retry</code> combinations</p>
</li>
<li>
<p>Fraction configuration properties and limitations are now properly documented</p>
</li>
</ul>
</div>
</li>
<li>
<p>MicroProfile OpenAPI</p>
<div class="ulist">
<ul>
<li>
<p>Endpoints that accept arrays and generic types are supported properly</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_update_fractions_to_match_wildfly_11_configuration">Update fractions to match WildFly 11 configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>WARNING: Breaking changes!</strong></p>
</div>
<div class="paragraph">
<p>In this release, we updated default configuration of various fractions to better match default <code>standalone-full.xml</code> configuration of WildFly 11.
As part of that, we made sure some more arcane Java EE features are accessible and easily usable.</p>
</div>
<div class="paragraph">
<p>The <code>ejb-remote</code> fraction, which is used to enable EJB remoting, now also enables remote naming and remote messaging.</p>
</div>
<div class="paragraph">
<p>Enabling stateful EJB passivation is now possible.
Note that, due to <a href="https://issues.jboss.org/browse/WFLY-10280">WFLY-10280</a>, EJB passivation only works if <code>ejb-remote</code> is present.</p>
</div>
<div class="paragraph">
<p>The <code>infinispan</code> fraction no longer enables clustered setup when the <code>jgroups</code> fraction is present.
The Infinispan configuration is always local.
This is to make sure that we don&#8217;t enable clustered setup when JGroups are brought in transitively, e.g. through the <code>messaging</code> fraction.
It has been the case for quite some time that WildFly Swarm intentionally doesn&#8217;t support clustering, and this change is part of it.</p>
</div>
<div class="paragraph">
<p>Previously, queues and topics in messaging were automatically created on demand.
This is no longer the case.
You have to create queues and topics explicitly in <code>project-defaults.yml</code>, or enable on-demand creation.
On-demand queues/topics creation was an unintentional consequence of a seemingly innocent configuration difference.
For more information, see the explanation in <a href="https://github.com/wildfly-swarm/wildfly-swarm-examples/pull/180">this pull request</a>.</p>
</div>
<div class="paragraph">
<p>Default configuration of the Elytron subsystem is now much closer to WildFly&#8217;s.
Elytron is the new security subsystem in WildFly, but it hasn&#8217;t received much attention in WildFly Swarm yet.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_changelog">Changelog</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Release notes for 2018.5.0 are available <a href="https://issues.jboss.org/secure/ReleaseNote.jspa?projectId=12317020&amp;version=12337351">here</a>.</p>
</div>
<div class="sect2">
<h3 id="_enhancement">Enhancement</h3>
<div class="ulist">
<ul>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1077">SWARM-1077</a>] Possibility to blacklist auto-detected fractions (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1950">SWARM-1950</a>] MP JWT: have to put the entire literal public key to project-defaults.yml, instead of being able to specify a file name (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1952">SWARM-1952</a>] MP JWT: can&#8217;t use value of the "upn" claim for roles mapping, even though the TCK suggests it&#8217;s possible (Rejected)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1967">SWARM-1967</a>] Provide ability to enable B3 Header Propagation in Jaeger (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1981">SWARM-1981</a>] Include the Infinispan fraction in 'full' to enable caching and passivation (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1992">SWARM-1992</a>] Provide an example configuration that shows how to enable security for remote EJBs (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-2003">SWARM-2003</a>] Support loading custom keycloak.json files from the classpath (Done)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1238">SWARM-1238</a>] should the MultiStartMojo.startArtifact require the "swarm" classifier to be configured manually? (Duplicate Issue)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_bug">Bug</h3>
<div class="ulist">
<ul>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1670">SWARM-1670</a>] MP FT - Asynchronous/CircuitBreaker combination does not work (Duplicate Issue)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1916">SWARM-1916</a>] need prominently visible documentation of hollow JAR limitations (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1917">SWARM-1917</a>] Can&#8217;t modify default swarm mail attribute through project-defaults.yml (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1926">SWARM-1926</a>] Issues with Support of Environment variables in containerized deployments (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1931">SWARM-1931</a>] Ribbon demos are failing (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1937">SWARM-1937</a>] Stateful session beans don&#8217;t passivate in wildfly-swarm (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1944">SWARM-1944</a>] MP fault tolerance: @Retry doesn&#8217;t work when the method is @Asynchronous (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1945">SWARM-1945</a>] MP fault tolerance: @CircuitBreaker doesn&#8217;t work when the method is @Asynchronous (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1946">SWARM-1946</a>] MP fault tolerance: too many concurrent requests to @Bulkhead @Fallback method can lead to fallback rejection (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1951">SWARM-1951</a>] MP JWT: have to specify "rolesProperties" for the "JWTLoginModule" even if I don&#8217;t need it (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1953">SWARM-1953</a>] MP JWT: JAX-RS resource with no @RolesAllowed annotation isn&#8217;t secured properly (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1954">SWARM-1954</a>] MP JWT: unconstrained method denied access if the resource also contains constrained method (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1963">SWARM-1963</a>] wildly inconsistent MicroProfile configuration keys (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1965">SWARM-1965</a>] Project build directory not being set for StartMojo when invoked from MultiStartMojo (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1970">SWARM-1970</a>] Multistart mojo does not detect the classifier (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1971">SWARM-1971</a>] MicroProfile OpenAPI fails on resource methods taking parameterized arguments or arrays (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1974">SWARM-1974</a>] Fraction plugin does not support repeatable @Configurable (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1987">SWARM-1987</a>] Config API doesn&#8217;t allow composite Lists / Maps, which prevents fully configuring e.g. Elytron (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1988">SWARM-1988</a>] NoClassDefFoundError when using wildfly microprofile config through YAML file (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1990">SWARM-1990</a>] [Gradle] Package task is not generating artifact with the right name (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-2009">SWARM-2009</a>] ArtifactDeployer assumes artifactId has no dots in it (Done)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_feature_request">Feature Request</h3>
<div class="ulist">
<ul>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1782">SWARM-1782</a>] Allow customized uberjar filename via Maven config (Done)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_task">Task</h3>
<div class="ulist">
<ul>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1892">SWARM-1892</a>] add tests for the Java MVC fraction (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1934">SWARM-1934</a>] Try to improve Keycloak SecurityArchivePreparer for it to load keycloak.json better  (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1943">SWARM-1943</a>] Mark opentracing as stable (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1948">SWARM-1948</a>] MP FT - document HystrixCommandInterceptor.SYNC_CIRCUIT_BREAKER_KEY config property (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1983">SWARM-1983</a>] update default fraction configuration to WildFly 11 (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/SWARM-1984">SWARM-1984</a>] Remove Ribbon Secured and update Keycloak demo instead (Done)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Per usual, we tend to hang out on <code>irc.freenode.net</code> in <code>#wildfly-swarm</code>.</p>
</div>
<div class="paragraph">
<p>All bug and feature-tracking is kept in <a href="http://issues.jboss.org/browse/SWARM">JIRA</a>.</p>
</div>
<div class="paragraph">
<p>Examples are available in <a href="https://github.com/wildfly-swarm/wildfly-swarm-examples/tree/2018.5.0" class="bare">https://github.com/wildfly-swarm/wildfly-swarm-examples/tree/2018.5.0</a></p>
</div>
<div class="paragraph">
<p>Documentation for this release is available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://docs.wildfly-swarm.io/2018.5.0/">Documentation</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_thank_you_contributors">Thank you, Contributors!</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We appreciate all of our contributors since the last release:</p>
</div>
<div class="sect2">
<h3 id="_core">Core</h3>
<div class="ulist">
<ul>
<li>
<p>frans</p>
</li>
<li>
<p>John Alström</p>
</li>
<li>
<p>Sergey Beryozkin</p>
</li>
<li>
<p>Heiko Braun</p>
</li>
<li>
<p>Gary Brown</p>
</li>
<li>
<p>Ken Finnigan</p>
</li>
<li>
<p>George Gastaldi</p>
</li>
<li>
<p>François JACQUES</p>
</li>
<li>
<p>Martin Kouba</p>
</li>
<li>
<p>Daniel P</p>
</li>
<li>
<p>Tomas Radej</p>
</li>
<li>
<p>Harsha Ramesh</p>
</li>
<li>
<p>Ramesh Reddy</p>
</li>
<li>
<p>Michał Szynkiewicz</p>
</li>
<li>
<p>Ladislav Thon</p>
</li>
<li>
<p>Gregor Tudan</p>
</li>
</ul>
</div>
</div>
</div>
</div></div></article></div></div></div></div><div class="footer-v1"><div class="footer"><div class="container"><div class="row"><div class="col-sm-6 md-margin-bottom-40"><p class="text-center"><Copyright>2016 - 2018 <a href="http://redhat.com">Red Hat, Inc.</a> | WildFly Swarm is Open Source Software</Copyright></p></div><div class="col-sm-6 md-margin-bottom-40"><p class="text-center"><span>We rely on the
<a href='http://www.ej-technologies.com/products/jprofiler/overview.html'>
Java profiler from EJ Technologies
</a><br/>
<img src='https://www.ej-technologies.com/images/product_banners/jprofiler_medium.png'/></span></p></div></div></div></div></div><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-83419890-2', 'auto');
ga('send', 'pageview');

ga('create', 'UA-6435340-8', 'auto');
ga('send', 'pageview');
</script><script type="text/javascript" src="/assets/js/highlight.pack.js"></script><script type="text/javascript" src="/assets/plugins/jquery/jquery.min.js"></script><script type="text/javascript" src="/assets/plugins/jquery/jquery-migrate.min.js"></script><script type="text/javascript" src="/assets/plugins/bootstrap/js/bootstrap.min.js"></script><script type="text/javascript" src="/assets/plugins/back-to-top.js"></script><script type="text/javascript" src="/assets/plugins/smoothScroll.js"></script><script type="text/javascript" src="/assets/plugins/parallax-slider/js/modernizr.js"></script><script type="text/javascript" src="/assets/plugins/parallax-slider/js/jquery.cslider.js"></script><script type="text/javascript" src="/assets/plugins/owl-carousel/owl-carousel/owl.carousel.js"></script><script type="text/javascript" src="/assets/js/custom.js"></script><script type="text/javascript" src="/assets/js/app.js"></script><script type="text/javascript" src="/assets/js/plugins/owl-carousel.js"></script><script type="text/javascript" src="/assets/js/plugins/style-switcher.js"></script><script type="text/javascript" src="/assets/js/plugins/parallax-slider.js"></script><script>(function() {

  jQuery(document).ready(function() {
    App.init();
    OwlCarousel.initOwlCarousel();
    StyleSwitcher.initStyleSwitcher();
    ParallaxSlider.initParallaxSlider();

    hljs.initHighlightingOnLoad();
  });

})();
</script></body></html>